What is This?
==============
This Liftweb application will demonstrate how to manage
owned One-to-Many relation on Google App Engine for Java
through the JDO2 interface.  The code has been based on 
Derek Chen-Becker's JPADemo[1][2].


How to Try
==========
Before the compilation, a few steps are needed to be done.
  1. Download appengine-java-SDK-1.2.1.zip and unzip it.
     Suppose you have unzipped it at '/tmp/' and you have
     '/tmp/appengine-java-sdk-1.2.1' directory.
  2. Replace '????' for 'sdk.dir' property in build.xml with your own.
     In this example, it should be '/tmp/appengine-java-sdk-1.2.1'.
  3. Download datanucleus-enhancer-1.1.3.jar[4] and locate it under
     '/tmp/appengine-java-sdk-1.2.1/lib/tools/orm' directory.
  4. Remove datanucleus-enhancer-1.1.0.jar from
     '/tmp/appengine-java-sdk-1.2.1/lib/tools/orm' directory.
     Unfortunately, datanucleus-enhancer-1.1.0.jar can not enhance class
     files generated by scalac.
  5. Set your application name on GAE/J to 
       'src/main/webapp/WEB-INF/appengine-web.xml' file.

Now, you are ready to run or upload this liftweb application to GAE/J.

  $ mvn package
  $ /tmp/appengine-java-sdk-1.2.1/bin/appcfg.sh update war
    or
  $ /tmp/appengine-java-sdk-1.2.1/bin/dev_appserver.sh war


Notes
=====
  * Entity models are defined in com.jcraft.lift.model package.
  * This program defines two models; Author and Book, and they are
    detachable.  Refer to those source code.
  * Author includes many instances of Book.
  * DetachOnClose and DatachOnCommit has been enabled by the default.
    Refer to 'src/main/webapp/WEB-INF/classes/META-INF/jdconfig.xml'
  * Without definitions for indexes, objects in One-to-Many relation
    must not be persisted.
    Refer to 'src/main/webapp/WEB-INF/datastore-indexes.xml'
  * The package org.scala_libs.jdo is the scala wrapper for JDO2 APIs.


Enjoy it!


atsuhiko.yamanaka@gmail.com
Jun 16 2009

[1] http://wiki.liftweb.net/index.php/Lift_and_JPA_(javax.persistence)
[2] http://github.com/dpp/liftweb/tree/72554794896a720c237c8793ed9bd907c2269048/sites/JPADemo
[3] http://code.google.com/intl/en/appengine/downloads.html#Google_App_Engine_SDK_for_Java
[4] http://www.datanucleus.org/downloads/maven-nightly/org.datanucleus/jars/datanucleus-enhancer-1.1.3.jar